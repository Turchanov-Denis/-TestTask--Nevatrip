# 1. Билеты на событие

## Вопрос 1


id | event_id | event_date          | barcode  | user_id | equal_price | created
---|----------|---------------------|----------|---------|-------------|--------------------
1  | 003      | 2021-08-21 13:00:00 | 11111111 | 00451   | 700         | 2021-01-11 13:22:09
2  | 006      | 2021-07-29 18:00:00 | 22222222 | 00364   | 1600        | 2021-01-12 16:62:08
3  | 003      | 2021-08-15 17:00:00 | 33333333 | 00015   | 4150        | 2021-01-13 10:08:45


Так как у каждого заказа есть уникальный event_id то имеет смысл разделить таблицу на несколько. Во второй таблице будут храниться цены и количество.

В дальнейшем модификация цен и добавление других типов, при таком подходе, будет упрощена.

id | event_id | ticket_adult_price | ticket_adult_quantity | ticket_kid_price | ticket_kid_quantity | ticket_kid_price | ticket_kid_quantity | ticket_preferential | ticket_preferential_quantity | ticket_group | ticket_group_quantity
---|----------|--------------------|-----------------------|------------------|---------------------|------------------|---------------------|---------------------|------------------------------|--------------|----------------------
1  | 003      | 700                | 1                     | 450              | 0                   | 450              | 0                   | 450                 | 0                            | 450          | 0
2  | 006      | 1000               | 0                     | 800              | 2                   | 800              | 2                   | 800                 | 2                            | 800          | 2
3  | 003      | 700                | 4                     | 450              | 3                   | 450              | 3                   | 450                 | 3                            | 450          | 3

ticket_preferential - цена льготного билета
ticket_kid_quantity - количество льготных билетов

ticket_preferential - цена группового билета
ticket_kid_quantity - количество групповых билетов



## Вопрос 2

id | event_id | event_date          | ticket_adult_price | ticket_adult_quantity | ticket_kid_price | ticket_kid_quantity | barcode_id | user_id | equal_price | created
---|----------|---------------------|--------------------|-----------------------|------------------|---------------------|------------|---------|-------------|--------------------
1  | 003      | 2021-08-21 13:00:00 | 700                | 1                     | 450              | 0                   | 1          | 00451   | 700         | 2021-01-11 13:22:09
2  | 006      | 2021-07-29 18:00:00 | 1000               | 0                     | 800              | 2                   | 2          | 00364   | 1600        | 2021-01-12 16:62:08
3  | 003      | 2021-08-15 17:00:00 | 700                | 4                     | 450              | 3                   | 3          | 00015   | 4150        | 2021-01-13 10:08:45


Изменим barcode на barcode_id и добавим связанную по этому id таблицу.

barcode_id | barcode 
-----------|----------
1          | 11111      
1          | 11112      
1          | 11113      
2          | 22222  


Таким образом в заказе у каждого билета уникальный баркод.